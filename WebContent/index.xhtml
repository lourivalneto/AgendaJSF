<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title></title>
</h:head>
<h:body>
		<h:form id="form">
		<p:growl id="growl" sticky="true" showDetail="true"/>	
		
			<p:panel id="basic" header="Contatos" footer="Â© 2018 jsf primefaces" style="margin-bottom:20px">				
				
				<p:panelGrid columns="2" id="panel_contatos">	
					<p:outputLabel value="Nome: " for="nome" />
					<p:inputText id="nome" value="#{contatoBean.contato.nome}" required="true"    />							
				
					<p:outputLabel value="Fone: " for="fone" />
					<p:inputText id="fone" value="#{contatoBean.contato.fone}"  required="true"  />													
							
					<p:outputLabel value="Nascimento: " for="nascimento" />
        			<p:calendar id="nascimento" value="#{contatoBean.contato.nascimento}" pattern="dd-MM-yyyy" showOn="button" >
        				<f:convertDateTime pattern="dd-MM-yyyy" />
					</p:calendar>									
							 	
					<p:commandButton update="panel_contatos lista_cont" value="salvar" action="#{contatoBean.salvar}" />							
					
					<h:commandButton value="Reset" action="#{contatoBean.novo}" />						
							
				</p:panelGrid>				
					
				<p:dataTable  id="lista_cont" value="#{contatoBean.contatos}" var="contato">
					<p:column>
						<h:outputText value="#{contato.id}" />
					</p:column>
	
					<p:column>
						<h:outputText value="#{contato.nome}" />
					</p:column>
	
					<p:column>
						<h:outputText value="#{contato.fone}" />
					</p:column>
	
					<p:column>
						<h:outputText value="#{contato.nascimento}">
							<f:convertDateTime pattern="dd-MM-yyyy" />
						</h:outputText>
					</p:column>
	
					<p:column>
						<p:commandButton update=":form" value="Editar" process="@this">
							<f:setPropertyActionListener target="#{contatoBean.contato}"value="#{contato}"/>
						</p:commandButton>
					</p:column>
	
					<p:column>
						<p:commandButton update=":form:lista_cont" value="Remover" action="#{contatoBean.remove}" process="@this">																	
							 <f:setPropertyActionListener target="#{contatoBean.contato}" value="#{contato}" />							 
						</p:commandButton>
					</p:column>
					
				</p:dataTable>
								
			</p:panel>		
				
		</h:form>	
</h:body>
</html>